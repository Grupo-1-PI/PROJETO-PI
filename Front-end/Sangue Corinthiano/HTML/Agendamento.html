<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agendamento - Sangue Coritnhiano</title>

    <link rel="stylesheet" href="../CSS/sangueCorinthiano.css">
    <link rel="stylesheet" href="../CSS/agendamento.css">
    <link rel="stylesheet" href="../CSS/dark-mode.css">
    <link rel="stylesheet" href="../CSS/AumentaDiminuiFonte.css">

    <link rel="stylesheet" href="sweetalert2.min.css">
</head>

<body>
    <div class="navbar justificar-meio">
        <div class="container">
            <div class="usuario justificar-meio">
                <div class="formatacao1 direcao-linha alinhar-meio space-between">
                    <a href="TelaUsuario.html">
                        <img src="../IMG/User Branco.png" alt="Usuário" style="width: 25px; height: 25px;">
                    </a>
                    <a class="texto3" id="nomeUsuario" href="Cadastro.html">
                        ${ususario}
                    </a>
                    <span class="texto3">
                        |
                    </span>
                    <a class="texto3" href="Login.html">
                        Sair
                    </a>
                </div>
            </div>
            <div class="direcao-linha space-between" style="width: 100%;">
                <div class="formatacao2 direcao-linha alinhar-meio space-between">
                    <div class="textoConteudo">
                        <button id="increase-font">A+</button>
                    </div>
                    <div class="textoConteudo">
                        <button id="decrease-font">A-</button>
                    </div>
                </div>

                <div class="conteudo alinhar-meio">
                    <a class="texto2" href="Home.html">
                        INFORMAÇÕES
                    </a>
                </div>

                <div class="logo justificarAlinhar-meio" style=" height: 85px;">
                    <img src="../IMG/logo.png" alt="" class="margintop">
                </div>

                <div class="conteudo alinhar-meio">
                    <a class="texto2" href="LocaisSC.html">
                        DOAR AGORA
                    </a>
                </div>

                <div class="formatacao2 alinhar-meio">
                    <div class="imagem justificarAlinhar-meio">
                        <img src="../IMG/alternancia branco.png" aalt="Alternar Modo Escuro" onclick="toggleDarkMode()">
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="banner center marginTop">
        <div class="container">
            <div class="imagem center">
                <div class="container">
                    <div class="botao format">
                        <a href="CampanhaSC.html">
                            <button class="view-button">Voltar</button>
                        </a>
                    </div>
                    <div class="titulo meio-baixo">
                        <span>
                            AGENDAMENTO
                        </span>
                    </div>
                    <div class="subTitulo meio-baixo">
                        <span>
                            CAMPANHA DO MÊS DE JULHO
                        </span>
                    </div>

                    <div class="texto meio-baixo">
                        <span>
                            PREENCHA OS CAMPOS A BAIXO PARA REALIZAR SEU AGENDAMENTO!
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- <div class="formulario marginTop">
        <div class="container">
            <div class="titulo center">
                <span>Preencha essa pré-Triagem</span>
            </div>
            <form>
                <p>Você é menor de idade?</p>
                
                <label>
                  <input type="radio" name="menorIdade" value="sim">
                  Sim
                </label>
                
                <label>
                  <input type="radio" name="menorIdade" value="nao">
                  Não
                </label>
              </form>
        </div>
    </div> -->
    <div class="diasDisponiveis center marginTop">
        <div class="container">
            <div class="titulo center">
                <span>DIAS DISPONÍVEIS</span>
            </div>
            <div class="cardDiasDisponiveis center">
                <div class="format space-between">
                    <!-- Cada dia com um data-dia único -->
                    <div class="card format-Center" data-dia="24">
                        <span>24</span>
                    </div>
                    <div class="card format-Center" data-dia="25">
                        <span>25</span>
                    </div>
                    <!-- Adicione mais dias conforme necessário -->
                </div>
            </div>
        </div>
    </div>
    <div class="horasDisponiveis center">
        <div class="container">
            <div class="titulo center marginTop">
                <span>
                    HORÁRIOS DISPONÍVEIS
                </span>
            </div>
            <div class="format meio-baixo">
                <div class="boxHorarios format-Center">
                    <div class="horarios space-evenly">
                        <div class="horas format-Center" data-horario="09:00">
                            <span>09:00</span>
                        </div>
                        <div class="horas format-Center" data-horario="09:30">
                            <span>09:30</span>
                        </div>
                        <div class="horas format-Center" data-horario="10:00">
                            <span>10:00</span>
                        </div>
                        <div class="horas format-Center" data-horario="10:30">
                            <span>10:30</span>
                        </div>
                        <div class="horas format-Center" data-horario="11:00">
                            <span>11:00</span>
                        </div>
                        <div class="horas format-Center" data-horario="11:30">
                            <span>11:30</span>
                        </div>
                        <div class="horas format-Center" data-horario="12:00">
                            <span>12:00</span>
                        </div>
                        <div class="horas format-Center" data-horario="12:30">
                            <span>12:30</span>
                        </div>
                        <div class="horas format-Center" data-horario="13:00">
                            <span>13:00</span>
                        </div>
                        <div class="horas format-Center" data-horario="13:30">
                            <span>13:30</span>
                        </div>
                        <div class="horas format-Center" data-horario="14:00">
                            <span>14:00</span>
                        </div>
                        <div class="horas format-Center" data-horario="14:30">
                            <span>14:30</span>
                        </div>
                        <div class="horas format-Center" data-horario="15:00">
                            <span>15:00</span>
                        </div>
                        <div class="horas format-Center" data-horario="15:30">
                            <span>15:30</span>
                        </div>
                        <div class="horas format-Center" data-horario="16:00">
                            <span>16:00</span>
                        </div>
                        <div class="horas format-Center" data-horario="16:30">
                            <span>16:30</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <input type="hidden" id="diaSelecionado" name="diaSelecionado">
    <input type="hidden" id="horaSelecionada" name="horaSelecionada">

    <div class="confirmarAgendamento center marginTop">
        <div class="container center">
            <div class="botao">
                <button id="buttonConfirmarAgendamento">
                    <span>
                        CLIQUE AQUI CONFIRMAÇÃO DO AGENDAMENTO
                    </span>
                </button>
            </div>
        </div>
    </div>

    <div class="rodaPe format-Center sombra marginTop">
        <div class="titulo format-Center ">
            <span class="rodaPeTitulo">
                SIGA AS NOSSAS REDES SOCIAIS:
            </span>
        </div>
        <div class="redeSocial format space-evenly">
            <div class="icon">
                <a href="https://www.instagram.com/sanguecorinthiano/" target="_blank">
                    <img src="../IMG/instagram icon.png" alt="Instagram">
                </a>
            </div>
            <div class="icon">
                <a href="https://www.facebook.com/sangueCorinthiano/?_rdr" target="_blank">
                    <img src="../IMG/Facebook icon.png" alt="Facebook">
                </a>
            </div>
            <div class="icon">
                <a href="https://www.youtube.com/user/SangueCorintiano?app=desktop" target="_blank">
                    <img src="../IMG/youtube icon.png" alt="YouTube">
                </a>
            </div>
        </div>

        <div class="divLogoRodaPe row space-between">
            <div class="logo1">
                <img src="../IMG/SangueCorinthiano-Logo.png" alt="">
            </div>
            <div class="logo2">
                <img src="../IMG/sptech.png" alt="">
            </div>
        </div>
        <div class="texto format-Center">
            <span class="rodapeTexto">
                SPTECH JUNTO AO SANGUE CORINTHIANO </br>
                TODOS OS DIREITOS RESERVADOS - © 2024 - PROTEÇÃO DE DADOS
            </span>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        async function buscar() {
            const url = 'http://localhost:8080';
            const id = sessionStorage.getItem('userId');

            const resposta = await fetch(`${url}/doadores/${id}`);
            const respostaDadosDoador = await resposta.json();
            console.log("Resposta:", respostaDadosDoador);

            const nomeUsuario = await document.getElementById('nomeUsuario')
            nomeUsuario.innerHTML = await respostaDadosDoador.nome
            var usuario = await respostaDadosDoador.nome
        }
        buscar()

        document.getElementById('buttonConfirmarAgendamento').addEventListener('click', function () {
            Swal.fire({
                title: "Gostaria de Confirmar seu Agendamento?",
                icon: "warning",
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Confirmar Agendamento"
            }).then((result) => {
                if (result.isConfirmed) {
                    Swal.fire("Agendamendo Confirmado!", "", "success");
                    console.log("caiu aqui dentro")
                } else if (result.isDenied) {
                    Swal.fire("Erro no Agendamento!", "", "info");
                    console.log("caiu dentro do else if")
                }
            });
        });

        document.addEventListener('DOMContentLoaded', function () {
            let fontSizeChange = 0;
            const maxFontSizeChange = 3;
            const minFontSizeChange = -3;
            const contentElements = document.querySelectorAll('p, h1, h2, h3, h4, h5, h6, li, a'); // Adicione outros seletores conforme necessário

            document.getElementById('increase-font').addEventListener('click', function () {
                if (fontSizeChange < maxFontSizeChange) {
                    fontSizeChange++;
                    changeFontSize(1.1); // Aumenta o tamanho da fonte em 10%
                }
            });

            document.getElementById('decrease-font').addEventListener('click', function () {
                if (fontSizeChange > minFontSizeChange) {
                    fontSizeChange--;
                    changeFontSize(0.9); // Diminui o tamanho da fonte em 10%
                }
            });

            function changeFontSize(factor) {
                contentElements.forEach(element => {
                    const currentSize = parseFloat(getComputedStyle(element).fontSize);
                    element.style.fontSize = (currentSize * factor) + 'px';
                });
            }
        });

        function toggleDarkMode() {
            var body = document.body;
            body.classList.toggle("dark-mode");
            var toggleIcon = document.getElementById("darkModeToggle");

            if (body.classList.contains("dark-mode")) {
                toggleIcon.src = "../IMG/alternancia branco.png"; // Trocar para o ícone do modo claro
            } else {
                toggleIcon.src = "../IMG/alternancia branco.png"; // Trocar para o ícone do modo escuro
            }
        }
    </script>

    <!-- Script Para uso da API VLIBRAS  -->

    <div vw class="enabled">
        <div vw-access-button class="active"></div>
        <div vw-plugin-wrapper>
            <div class="vw-plugin-top-wrapper"></div>
        </div>
    </div>
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script>
        new window.VLibras.Widget('https://vlibras.gov.br/app');
    </script>

</body>

</html>

<script>
    // Função para selecionar dia
    const dias = document.querySelectorAll('.cardDiasDisponiveis .card'); // Seleciona todos os dias
    dias.forEach(dia => {
        dia.addEventListener('click', function () {
            console.log('Dia selecionado:', this.dataset.dia); // Mostra no console o dia clicado
            // Remove a seleção anterior
            dias.forEach(d => d.classList.remove('selecionado'));
            // Adiciona a classe "selecionado" ao dia atual
            this.classList.add('selecionado');
        });
    });


    // Função para selecionar horário
    const horarios = document.querySelectorAll('.horas');
    horarios.forEach(horario => {
        horario.addEventListener('click', function () {
            // Remove a seleção anterior
            horarios.forEach(h => h.classList.remove('selecionado'));
            // Marca o horário atual como selecionado
            this.classList.add('selecionado');
        });
    });

    function setDia(dia) {
        document.getElementById('diaSelecionado').value = dia;
    }

    function setHora(hora) {
        document.getElementById('horaSelecionada').value = hora;
    }
</script>